# -----------------------------------------------------------------------
# Core Application Configuration
# -----------------------------------------------------------------------

# Docker Compose project name - used for container naming
COMPOSE_PROJECT_NAME=beabee

# Application environment - affects logging, error handling, and optimizations
NODE_ENV=development

# Application revision identifier (commit hash or build ID)
# Used by: frontend env.ts (replaces __revision__)
# Default: 'local' in development, actual revision in production
REVISION=local

# Application version identifier
# Used by: frontend env.ts (replaces __version__)
# Default: 'dev' in development, actual version in production
VERSION=dev

# -----------------------------------------------------------------------
# Network Configuration
# -----------------------------------------------------------------------

# Port for the maildev server used for local email testing
MAIL_PORT=3025

# Port for the Docker router application
ROUTER_PORT=3002

# Port for the PostgreSQL database
DB_PORT=6543

# -----------------------------------------------------------------------
# Security & Authentication Configuration
# -----------------------------------------------------------------------

# Comma-separated list of origins allowed to make authenticated requests
# Used for CORS configuration to determine which origins can authenticate
BEABEE_TRUSTEDORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Public URL of the instance
BEABEE_AUDIENCE=http://localhost:3002

# Enable development mode features
# Default: true for development, false for production
BEABEE_DEV=true

# Log format for application logs
# Options: simple, json (valid values enforced by config)
# Default: json
BEABEE_LOGFORMAT=simple

# Secret key for signing JWT tokens and encrypting sensitive data
# IMPORTANT: Use a strong random value in production
# Required with no default
BEABEE_SECRET=abc123

# Secret key for internal service authentication
# Used for secure communication between microservices
# Required with no default
BEABEE_SERVICE_SECRET="Code is like humor. When you have to explain it, it's bad."

# Cookie domain setting for authentication cookies
# Should match your application domain
BEABEE_COOKIE_DOMAIN=localhost

# Whether cookies should be sent only over HTTPS
# Set to true in production environments
# Default: true
BEABEE_COOKIE_SECURE=false

# Session cookie name
# Default: session
# BEABEE_SESSION=session

# -----------------------------------------------------------------------
# Password Security Settings
# -----------------------------------------------------------------------

# Maximum failed password attempts before account lockout
# Default: 3
# BEABEE_PASSWORDTRIES=3

# Iterations for PBKDF2 password hashing algorithm
# Higher values increase security but slow down authentication
# Default: 50000
# BEABEE_PASSWORDITERATIONS=50000

# -----------------------------------------------------------------------
# Localization Configuration
# -----------------------------------------------------------------------

# Country code for localization purposes
# Valid values: en, de, be (enforced by config)
# Required with no default
BEABEE_COUNTRYCODE=en

# Currency code for payment processing
# Required with no default
BEABEE_CURRENCYCODE=GBP

# Currency symbol to display in the interface
# Required with no default
BEABEE_CURRENCYSYMBOL=Â£

# -----------------------------------------------------------------------
# Third-Party Integration Keys
# -----------------------------------------------------------------------

# CaptchaFox secret key for backend CAPTCHA verification
# Pairs with CAPTCHAFOX_KEY in frontend config
# Default: '' (empty string)
BEABEE_CAPTCHAFOX_SECRET=ok_11111111000000001111111100000000

# Discourse forum integration
# Default: '' (empty string for both)
# BEABEE_DISCOURSE_URL=https://forum.example.com
# BEABEE_DISCOURSE_SSOSECRET=your_discourse_sso_secret

# -----------------------------------------------------------------------
# Email Configuration
# -----------------------------------------------------------------------

# Email provider to use for sending emails
# Options: smtp, mandrill, sendgrid (enforced by config)
# Required with no default
BEABEE_EMAIL_PROVIDER=smtp

# SMTP server settings
# Required when BEABEE_EMAIL_PROVIDER=smtp, no defaults
BEABEE_EMAIL_SETTINGS_HOST=mail
BEABEE_EMAIL_SETTINGS_PORT=1025
# Whether to use SSL/TLS for SMTP connection
# Default: false
# BEABEE_EMAIL_SETTINGS_SECURE=false
# SMTP authentication credentials
# Required when BEABEE_EMAIL_PROVIDER=smtp, no defaults
BEABEE_EMAIL_SETTINGS_AUTH_USER=dev
BEABEE_EMAIL_SETTINGS_AUTH_PASS=dev

# Mandrill API key (when BEABEE_EMAIL_PROVIDER=mandrill)
# Required when using Mandrill, no default
# BEABEE_EMAIL_SETTINGS_APIKEY=your_mandrill_api_key

# SendGrid API key (when BEABEE_EMAIL_PROVIDER=sendgrid)
# Required when using SendGrid, no default
# BEABEE_EMAIL_SETTINGS_APIKEY=your_sendgrid_api_key
# Enable test mode for SendGrid
# Default: false
# BEABEE_EMAIL_SETTINGS_TESTMODE=false

# -----------------------------------------------------------------------
# Newsletter Configuration
# -----------------------------------------------------------------------

# Newsletter provider integration
# Options: none, mailchimp (enforced by config)
# Default: none
BEABEE_NEWSLETTER_PROVIDER=none

# Mailchimp settings (when BEABEE_NEWSLETTER_PROVIDER=mailchimp)
# All required when using Mailchimp, no defaults except webhookSecret
# BEABEE_NEWSLETTER_SETTINGS_APIKEY=your_mailchimp_api_key
# BEABEE_NEWSLETTER_SETTINGS_DATACENTER=us1
# BEABEE_NEWSLETTER_SETTINGS_LISTID=your_mailchimp_list_id

# Newsletter webhook secret for validating webhooks
# Default: '' (empty string)
# BEABEE_NEWSLETTER_SETTINGS_WEBHOOKSECRET=your_webhook_secret

# -----------------------------------------------------------------------
# Payment Processing Configuration
# -----------------------------------------------------------------------

# GoCardless access token for Direct Debit payments
# Default: '' (empty string)
BEABEE_GOCARDLESS_ACCESSTOKEN=

# GoCardless webhook signing secret
# Default: '' (empty string)
BEABEE_GOCARDLESS_SECRET=test

# Whether to use GoCardless sandbox environment
# Set to false in production
# Default: true
BEABEE_GOCARDLESS_SANDBOX=true

# Stripe public API key
# Default: '' (empty string)
BEABEE_STRIPE_PUBLICKEY=

# Stripe secret API key
# Default: '' (empty string)
BEABEE_STRIPE_SECRETKEY=

# Stripe webhook signing secret
# Default: '' (empty string)
BEABEE_STRIPE_WEBHOOKSECRET=

# Stripe product ID for membership products
# Default: '' (empty string)
BEABEE_STRIPE_MEMBERSHIPPRODUCTID=

# Stripe account country
# Valid values: gb, eu, ca (enforced by config)
# Default: gb
# BEABEE_STRIPE_COUNTRY=gb

# -----------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------

# PostgreSQL connection URL
# Format: postgres://username:password@host/database
BEABEE_DATABASE_URL=postgres://membership_system:membership_system@db/membership_system

# -----------------------------------------------------------------------
# Image Processing Configuration
# -----------------------------------------------------------------------

# Image quality for compression (0-100)
# Default: 80
BEABEE_IMAGE_QUALITY=80

# Default image format for compression/conversion
# Options: avif, webp, jpeg, png, original
# Default: avif
BEABEE_IMAGE_FORMAT=avif

# Available image widths for resizing (comma-separated)
# Default: 100,300,400,600,900,1200,1440,1800
# BEABEE_IMAGE_AVAILABLE_WIDTHS=100,300,400,600,900,1200,1440,1800

# -----------------------------------------------------------------------
# File Storage Configuration
# -----------------------------------------------------------------------

# MinIO root user (admin username)
BEABEE_MINIO_ROOT_USER=minioadmin

# MinIO root password (admin password)
BEABEE_MINIO_ROOT_PASSWORD=minioadmin

# MinIO bucket name for file uploads
BEABEE_MINIO_BUCKET=uploads

# MinIO server endpoint URL
BEABEE_MINIO_ENDPOINT=http://minio:9000

# MinIO region (S3 compatibility)
BEABEE_MINIO_REGION=us-east-1

# MinIO Admin port
BEABEE_MINIO_PORT_ADMIN=9000

# MinIO Console port (Admin UI)
BEABEE_MINIO_PORT_CONSOLE=9001

# Whether to use path-style S3 URLs (vs virtual hosted-style)
# Default: true
# BEABEE_MINIO_FORCE_PATH_STYLE=true

# -----------------------------------------------------------------------
# Advanced Configuration
# -----------------------------------------------------------------------

# App configuration overrides (JSON format)
# Allows modifying app properties without changing code
# Format: JSON object matching AppConfigOverrides interface
# BEABEE_APPOVERRIDES={"appName":{"config":{"disabled":true}}}

# -----------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------

# Port number for the Vite development server
# Used by: vite.config.ts for dev server startup
# Default: 3000
VITE_DEV_SERVER_PORT=3000

# Base URL of the application
# In Docker: Used directly for replacing __appUrl__ in built JS files
# In Vite: Used as proxy target URL for API requests
# Default: http://localhost:3002
APP_BASE_URL=http://localhost:3002

# Base URL path for API endpoints
# Used by: vite.config.ts, docker-entrypoint.sh (replaces __apiUrl__)
# Default: /api/1.0/
# Note: The trailing slash is important for correct path resolution
API_BASE_URL=/api/1.0/

# -----------------------------------------------------------------------
# Frontend Third-Party Integration Keys
# -----------------------------------------------------------------------

# AppSignal API key for error tracking and monitoring
# Used by: vite.config.ts, docker-entrypoint.sh (replaces __appsignalKey__)
# Default: Empty (disabled if not set)
APPSIGNAL_KEY=

# CaptchaFox API key for CAPTCHA services (frontend)
# Used by: vite.config.ts, docker-entrypoint.sh (replaces __captchafoxKey__)
# Default: Example key shown below (should be replaced with your actual key)
CAPTCHAFOX_KEY=sk_11111111000000001111111100000000

# MapTiler API key for map services
# Used by: vite.config.ts, docker-entrypoint.sh (replaces __maptilerKey__)
# Default: Empty (maps won't work without a valid key)
MAPTILER_KEY=

# -----------------------------------------------------------------------
# Frontend Feature Flags
# -----------------------------------------------------------------------

# CrowdNewsroom mode flag
# Used by: vite.config.ts, docker-entrypoint.sh (replaces __cnrMode__)
# Default: Empty/false (disabled)
# Uncomment to enable: CNR_MODE=true
#CNR_MODE=true

# Flag to enable experimental features
# Used by: vite.config.ts, docker-entrypoint.sh (replaces __experimentalFeatures__)
# Default: Empty/false (disabled)
# Uncomment to enable: EXPERIMENTAL_FEATURES=true
#EXPERIMENTAL_FEATURES=true
